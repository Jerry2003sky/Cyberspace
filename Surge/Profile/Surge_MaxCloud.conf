[General]
# --- GENERAL ---
# Enhanced Wi-Fi Assist
wifi-assist = false
# Hybrid Network
all-hybrid = false
# Gaming Optimization
// å¼€å¯åå°†åœ¨ç³»ç»Ÿè´Ÿè½½éå¸¸é«˜ï¼Œæ•°æ®åŒ…å¤„ç†å‡ºç°å»¶è¿Ÿæ—¶ï¼Œä¼˜å…ˆå¤„ç† UDP æ•°æ®åŒ…ã€‚
udp-priority = false
# Latency Benchmark
internet-test-url = http://www.apple.com/library/test/success.html
proxy-test-url = http://cp.cloudflare.com/generate_204
test-timeout = 3
# GeoIP Database
// geoip-maxmind-url = https://cdn.jsdelivr.net/gh/Loyalsoldier/geoip@release/Country.mmdb
geoip-maxmind-url = https://github.com/xream/geoip/releases/latest/download/ipinfo.country.mmdb
# IPv6 Support
// å¼€å¯ IPv6 ä¼šè®© Surge åŒæ—¶è¯·æ±‚åŸŸåçš„ A ä¸ AAAA è®°å½•ï¼Œè¿™å¯èƒ½ç•¥å¾®çš„å¢åŠ å»¶è¿Ÿã€‚è‹¥ DNS æœåŠ¡å™¨æ— æ³•æ­£ç¡®å“åº” AAAA æŸ¥è¯¢ï¼Œåˆ™å¯èƒ½å¯¼è‡´ä¸¥é‡çš„å¡é¡¿ï¼Œä»…åœ¨éœ€è¦æ—¶å¼€å¯ã€‚
ipv6 = false
# --- Wi-Fi ACCESS ---
// Surge å¯ä»¥ä½œä¸ºä¸€ä¸ªæ ‡å‡†çš„ HTTP/SOCKS5 ä»£ç†æœåŠ¡å™¨å‘ wi-Fi ç½‘ç»œä¸‹çš„å…¶ä»–è®¾å¤‡æä¾›æœåŠ¡å™¨
allow-wifi-access = false
# Surge iOS - é»˜è®¤ HTTP ç«¯å£å·ï¼š6152ï¼ŒSOCKS5 ç«¯å£å·ï¼š6153
wifi-access-http-port = 6152
wifi-access-socks5-port = 6153
# Surge Mac - é»˜è®¤ HTTP ç«¯å£å·ï¼š6152ï¼ŒSOCKS5 ç«¯å£å·ï¼š6153
allow-hotspot-access = false
compatibility-mode = 0
# å…è®¸çƒ­ç‚¹å…±äº«
skip-proxy = 127.0.0.1, localhost, *.local, *.crashlytics.com, injections.adguard.org, local.adguard.org, 0.0.0.0/8, 10.0.0.0/8, 17.0.0.0/8, 100.64.0.0/10, 127.0.0.0/8, 169.254.0.0/16, 172.16.0.0/12, 192.0.0.0/24, 192.0.2.0/24, 192.168.0.0/16, 192.88.99.0/24, 198.18.0.0/15, 198.51.100.0/24, 203.0.113.0/24, 224.0.0.0/4, 240.0.0.0/4, 255.255.255.255/32
# --- REMOTE CONTROLLER ---
# å…è®¸ Surge è¯·æ±‚æŸ¥çœ‹å™¨æˆ– Surge CLI è¿›è¡Œç®¡ç†æ§åˆ¶
// é»˜è®¤ä»…å…è®¸å¤–éƒ¨æ§åˆ¶å™¨é€šè¿‡ USB è¿›è¡Œæ§åˆ¶ã€‚å¦‚æœæƒ³è¦å…è®¸ç”± Wi-Fi æ§åˆ¶å¯ä»¥å°† 127.0.0.1 æ”¹ä¸º 0.0.0.0
// external-controller-access = key@127.0.0.1:6160
# HTTP API & Web Dashboard
// This option allows using HTTP APIs to control
// http-api = key@127.0.0.1:6166
// ä½¿ç”¨ HTTPS æ›¿ä»£ HTTP åè®®ï¼Œéœ€è¦å…ˆé…ç½® MitM çš„ CA è¯ä¹¦ï¼ŒåŒæ—¶éœ€è¦åœ¨å®¢æˆ·ç«¯è®¾å¤‡ä¸Šæ‰‹åŠ¨å®‰è£…å¹¶ä¿¡ä»» CA è¯ä¹¦
// http-api-tls = false
// å¼€å¯è¯¥é€‰é¡¹åå¯ä»¥é€šè¿‡æµè§ˆå™¨æ§åˆ¶ Surgeï¼Œæœ¬æœºæµè§ˆå™¨è¾“å…¥127.0.0.1:6166
// http-api-web-dashboard = true
# --- COMPATIBILITY ---
// è¯¥é€‰é¡¹å°†ä½¿å¾—å‘å¾€è¿™äº›åŸŸåæˆ–è€… IP æ®µçš„è¯·æ±‚ç”± Surge VIF è¿›è¡Œå¤„ç†ï¼ˆè€Œä¸æ˜¯ Surge Proxyï¼‰ï¼Œè¯¥é€‰é¡¹ç”¨äºä¿®æ­£å’ŒæŸäº›åº”ç”¨çš„å…¼å®¹æ€§é—®é¢˜
# å…¼å®¹æ¨¡å¼ï¼ˆå‚æ•°ä»…iosç”Ÿæ•ˆï¼ŒMacä¸Šâ€œ0â€æ˜¯é»˜è®¤ï¼Œå°±æ˜¯ä¸‹é¢çš„â€œ3â€ï¼‰
# 0ï¼šç¦ç”¨
# 1ï¼šProxy with Loopback Address
# 2ï¼šProxy Only
# 3ï¼šVIF Only
# 4ï¼šVIF Proxyï¼šä¸ä½¿ç”¨ 127.0.0.1 çš„å›ç¯åœ°å€ä½œä¸ºä»£ç†ï¼Œä½¿ç”¨ VIF çš„è™šæ‹Ÿä»£ç†åœ°å€ï¼Œå°†äº§ç”Ÿé¢å¤–çš„æ€§èƒ½å¼€é”€
# 5ï¼šä¸ä½œä¸ºé»˜è®¤è·¯ç”±ï¼šä¸å£°æ˜ä¸ºé»˜è®¤è·¯ç”±ï¼Œä½†å£°æ˜è‹¥å¹²ä¸ªå°è·¯ç”±ä»¥è¦†ç›–æ‰€æœ‰åœ°å€ï¼ˆä¸ Surge Mac å¢å¼ºæ¨¡å¼è¡Œä¸ºç›¸åŒï¼‰
# è¿™ç§é…ç½®ä¸‹ç”±äº VIF ä¸æ˜¯ä¸»ç½‘ç»œè®¾å¤‡æ— æ³•é…ç½®ç³»ç»Ÿä»£ç†ã€‚éƒ¨åˆ†åº”ç”¨åœ¨è¯¥æ¨¡å¼ä¸‹ä¼šè®¤ä¸º VPN æœªå¼€å¯ä»¥è§£å†³ç‰¹æ®Šå…¼å®¹æ€§é—®é¢˜ï¼Œå¦‚ HomeKit Security Camera
# âš ï¸ è¯·ä»…åœ¨æŒ‡å¼•ä¸‹ä½¿ç”¨ï¼Œå¼€å¯åéƒ¨åˆ†åŠŸèƒ½å¯èƒ½æ— æ³•ä½¿ç”¨
exclude-simple-hostnames = true
# è·³è¿‡ä»£ç†
read-etc-hosts = true
# æ’é™¤ç®€å•ä¸»æœºå
# encrypted-dns-server = h3://xxxxxx/xxxxx/dns-query
# The IP addresses of upstream DNS servers
doh-skip-cert-verification = true
# ä» /etc/hosts è¯»å– DNS è®°å½•
use-local-host-item-for-proxy = true
# ENCRYPTED DNS
// å¦‚æœé…ç½®äº†åŠ å¯† DNSï¼Œä¼ ç»Ÿ DNS å°†ä»…ç”¨ä½œè§£æ DOH åŸŸåå’Œæµ‹è¯•ç½‘ç»œè¿é€šæ€§
# æ”¯æŒçš„åè®®ï¼š
# DNS over HTTPS: https://doh.pub/dns-query
# DNS over HTTP/3: h3://example.com
# DNS over QUIC: quic://example.com
encrypted-dns-follow-outbound-mode = false
include-all-networks = false
# ä»£ç†è¯·æ±‚æœ¬åœ° DNS æ˜ å°„
// å¼€å¯è¯¥é€‰é¡¹åï¼Œå¦‚æœè®¿é—®çš„åŸŸåé…ç½®æœ‰æœ¬åœ° DNS æ˜ å°„ï¼Œsurge å°†ä½¿ç”¨æœ¬åœ° IP åœ°å€è¿›è¡Œè¯·æ±‚ï¼Œä¸åœ¨è¿œç«¯è¿›è¡Œè§£æã€‚ä»…å¯¹é…ç½®äº† IP åœ°å€çš„æœ¬åœ° DNS æ˜ å°„ç”Ÿæ•ˆ
include-local-networks = false
# ä½¿åŠ å¯† DNS è¯·æ±‚é€šè¿‡ä»£ç†ç­–ç•¥æ‰§è¡Œ
loglevel = notify
# --- ROUTING ---
# åŒ…å«æ‰€æœ‰ç½‘ç»œè¯·æ±‚
always-real-ip = link-ip.nextdns.io, *.msftconnecttest.com, *.msftncsi.com, *.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com, *.logon.battlenet.com.cn, *.logon.battle.net, stun.l.google.com, localhost.ptlogin2.qq.com
# åŒ…å«æœ¬åœ°ç½‘ç»œè¯·æ±‚
hijack-dns = *:53
# --- ADVANCED ---
# Log Level
force-http-engine-hosts = *.ott.cibntv.net, 123.59.31.1, 119.18.193.135, 122.14.246.33, 175.102.178.52, 116.253.24.*, 175.6.26.*, 220.169.153.*
# å½“é‡åˆ° REJECT ç­–ç•¥æ—¶è¿”å›é”™è¯¯é¡µ
// show-error-page-for-reject = true
# Always Real IP Hosts
# å½“ Surge VIF å¤„ç† DNS é—®é¢˜æ—¶ï¼Œæ­¤é€‰é¡¹è¦æ±‚ Surge è¿”å›ä¸€ä¸ªçœŸæ­£çš„ IP åœ°å€ï¼Œè€Œä¸æ˜¯ä¸€ä¸ª Fake IP
# DNS æ•°æ®åŒ…å°†è¢«è½¬å‘åˆ°ä¸Šæ¸¸ DNS æœåŠ¡å™¨
# ä¾‹å¦‚ç”±äºæ¸¸æˆä¸»æœºä¼šä½¿ç”¨ STUN æŠ€æœ¯è¿›è¡Œ NAT ç©¿é€ï¼Œéœ€è¦è¿›è¡Œä¸€äº›é¢å¤–çš„é…ç½®æ‰èƒ½æ­£å¸¸å·¥ä½œ
udp-policy-not-supported-behaviour = REJECT
# Hijack DNS
# é»˜è®¤æƒ…å†µä¸‹ï¼ŒSurge åªå¯¹å‘é€åˆ° Surge DNS åœ°å€(198.18.0.2)çš„ DNS æŸ¥è¯¢è¿”å› Fack IP åœ°å€ã€‚å‘é€åˆ°æ ‡å‡† DNS çš„æŸ¥è¯¢å°†è¢«è½¬å‘
# å¦‚ Google ç³»æ™ºèƒ½ç¡¬ä»¶äº§å“ä¼šæ— è§† DHCP é…ç½®å¼ºè¡Œä½¿ç”¨ 8.8.8.8 å’Œ 8.8.4.4ï¼Œéœ€è¦é…ç½® Surge å¼ºè¡ŒåŠ«æŒæ‰å¯ä»¥æ­£å¸¸å·¥ä½œ
# hijack-dns = 8.8.8.8:53, 8.8.4.4:53
dns-server = 223.5.5.5, 119.28.28.28
# TCP Force HTTP Hosts
# ä½¿ Surge å°† TCP è¿æ¥è§†ä¸º HTTP è¯·æ±‚ã€‚Surge HTTP å¼•æ“å°†å¤„ç†è¯·æ±‚ï¼Œå¹¶ä¸”æ‰€æœ‰é«˜çº§åŠŸèƒ½éƒ½å°†å¯ç”¨ï¼Œå¦‚æˆªå–ã€é‡å†™å’Œè„šæœ¬
# æ”¯æŒé€šé…ç¬¦ * åŠ ?ï¼›
# ä½¿ç”¨å‰ç¼€ - æ’é™¤ä¸»æœºåï¼›
# é»˜è®¤æƒ…å†µä¸‹ï¼Œåªå¯¹ 80 ç«¯å£çš„è¯·æ±‚è¿›è¡Œå¤„ç†ï¼ˆä½¿ç”¨ example.com:443 æŒ‡å®šç«¯å£æˆ– example.com:0 è¡¨ç¤ºæ‰€æœ‰ç«¯å£ï¼‰ï¼›
# <ip-address> è¡¨ç¤ºåŒ¹é…æ‰€æœ‰ä¸»æœºåä¸º IP åœ°å€çš„è¿æ¥ï¼›
# <ipv4-address> è¡¨ç¤ºåŒ¹é…æ‰€æœ‰ä¸»æœºåä¸º IPv4 åœ°å€çš„è¿æ¥ï¼›
# <ipv6-address> è¡¨ç¤ºåŒ¹é…æ‰€æœ‰ä¸»æœºåä¸º IPv6 åœ°å€çš„è¿æ¥ã€‚
ipv6-vif = disabled
# VIF Excluded Routes
// tun-excluded-routes = 239.255.255.250/32
# VIF Included Routes
// tun-included-routes = 192.168.1.12/32
# å½“ Wi-Fi ä¸æ˜¯é¦–é€‰ç½‘ç»œæ—¶ SSID ç»„ç­–ç•¥ä½¿ç”¨é»˜è®¤ç­–ç•¥
# external-controller-access = 
# æ§åˆ¶å½“ UDP æµé‡è¢«åŒ¹é…åˆ°ä¸€ä¸ªä¸æ”¯æŒ UDP è½¬å‘çš„ç­–ç•¥æ—¶çš„è¡Œä¸º
# - DIRECTï¼šå›é€€åˆ° DIRECT ç­–ç•¥ï¼ˆé»˜è®¤ï¼‰
# - REJECTï¼šå›é€€åˆ° REJECT ç­–ç•¥

[Ponte]


[Proxy]
# è‡ªå»ºVPS
# ğŸ‡ºğŸ‡¸ Test LA = snell,xxxxxx, psk=xxxxx, version=4, tfo=true

# è¯¥æ®µå®šä¹‰å¯ç”¨çš„ç­–ç•¥ç»„
# ä¸€ä¸ªç­–ç•¥ç»„å¯ä»¥åŒ…æ‹¬å¤šä¸ªå­ç­–ç•¥
# å­ç­–ç•¥å¯ä»¥æ˜¯ä¸€ä¸ªä»£ç†ç­–ç•¥ï¼Œæˆ–è€…å¦ä¸€ä¸ªç­–ç•¥ç»„ï¼Œæˆ–è€…æ˜¯ä¸€ä¸ªå†…ç½®ç­–ç•¥ (DIRECT æˆ– REJECT).
# DIRECT è¡¨ç¤ºå°†è¯¥è¯·æ±‚ç›´æ¥å‘å¾€ç›®æ ‡æœåŠ¡å™¨
# REJECT è¡¨ç¤ºæ‹’ç»è¯¥è¯·æ±‚ï¼Œå½“è¿æ¥ç±»å‹ä¸º HTTP æ—¶ï¼Œä¼šè¿”å›ä¸€ä¸ªé”™è¯¯é¡µé¢ã€‚ï¼ˆè¯¥è¡Œä¸ºå¯è¢« show-error-page-for-reject å‚æ•°æ§åˆ¶ï¼‰
# REJECT-TINYGIF è¡¨ç¤ºæ‹’ç»è¯¥è¯·æ±‚ï¼Œå½“è¿æ¥ç±»å‹ä¸º HTTP æ—¶ï¼Œè¿”å›ä¸€ä¸ª 1px çš„ GIF å›¾ç‰‡å“åº”ã€‚è‹¥ä¸ºå…¶ä»–ç±»å‹è¿æ¥åˆ™ç›´æ¥æ–­å¼€ã€‚è¯¥ç­–ç•¥ä¸»è¦ç”¨äº Web å¹¿å‘Šå±è”½ã€‚
# REJECT-DROP è¡¨ç¤ºæ‹’ç»è¯¥è¯·æ±‚ï¼Œä¸ REJECT ä¸åŒçš„æ˜¯ï¼Œè¯¥ç­–ç•¥å°†é™é»˜æŠ›å¼ƒè¯·æ±‚ã€‚å› ä¸ºéƒ¨åˆ†ç¨‹åºæœ‰ç€ååˆ†æš´åŠ›çš„é‡è¯•é€»è¾‘ï¼Œè¿æ¥å¤±è´¥åä¼šç«‹åˆ»è¿›è¡Œé‡è¯•ï¼Œå¯¼è‡´è¯·æ±‚é£æš´ã€‚å¦‚æœå‘å¾€æŸä¸»æœºåçš„è¯·æ±‚çŸ­æ—¶é—´å†…å¤§é‡è§¦å‘ REJECT/REJECT-TINYGIF ç­–ç•¥ï¼ˆå½“å‰ç‰ˆæœ¬çš„é˜ˆå€¼ä¸º 30 ç§’å†… 10 æ¬¡ï¼‰ï¼Œä¸ºäº†é¿å…äº§ç”Ÿå¤§é‡èµ„æºæµªè´¹ï¼ŒSurge å°†è‡ªåŠ¨å‡çº§ç­–ç•¥ä¸º REJECT-DROP ç­–ç•¥ã€‚
# REJECT-NO-DROP è¡¨ç¤ºä¸ä½¿ç”¨é»˜è®¤çš„è‡ªåŠ¨ä¸¢åŒ…é€»è¾‘ï¼Œè¿™æ · Surge æ¯æ¬¡éƒ½ä¼šè¿”å› ICMP Port Unreachableï¼Œåº”ç”¨ä¼šç«‹åˆ»å›é€€è€Œä¸æ˜¯ç­‰è¶…æ—¶ã€‚
# CELLULAR è¡¨ç¤ºä¼˜å…ˆä½¿ç”¨æ•°æ®ç½‘ç»œï¼›
# CELLULAR-ONLY è¡¨ç¤ºä»…ä½¿ç”¨æ•°æ®ç½‘ç»œï¼›
# HYBRID è¡¨ç¤ºå°è¯•å¹¶å‘ä½¿ç”¨ Wi-Fi å’Œæ•°æ®ç½‘ç»œå»ºç«‹è¿æ¥ï¼Œä»…å½“æ··åˆç½‘ç»œå¼€å…³æœªå¼€å¯æ—¶æœ‰æ„ä¹‰ã€‚
# NO-HYBRID è¡¨ç¤ºå½“ Wi-Fiå¯ç”¨æ—¶æ°¸ä¸å°è¯•æ•°æ®ç½‘ç»œï¼Œä»…å½“æ··åˆç½‘ç»œæˆ– Wi-Fi åŠ©åŠ›é€‰é¡¹å¼€å¯æ—¶æœ‰æ„ä¹‰ã€‚
# - æ–°å¢ IPv4 & IPv6 åå¥½å‚æ•°ï¼Œå¯¹äºæ‰€æœ‰ç­–ç•¥ï¼Œå¯é™„å¸¦å‚æ•° ip-version=ï¼Œå¯é€‰å‚æ•°æœ‰ï¼š
# * dualï¼šé»˜è®¤è¡Œä¸ºï¼Œåœ¨åŒæ ˆç½‘ç»œä¸Šå°†å¹¶å‘ä½¿ç”¨ v4 å’Œ v6 åœ°å€å¹¶é€‰å–æœ€å¿«é€Ÿçš„ç»“æœã€‚
# * prefer-v4ï¼šè‹¥DNSè§£æè·å¾—äº† A ä¸ AAAA è®°å½•ï¼Œä¼˜å…ˆä½¿ç”¨ A è®°å½•ï¼Œå¦åˆ™ä½¿ç”¨ AAAA è®°å½•ã€‚
# * prefer-v6ï¼šè‹¥DNSè§£æè·å¾—äº† A ä¸ AAAA è®°å½•ï¼Œä¼˜å…ˆä½¿ç”¨ AAAA è®°å½•ï¼Œå¦åˆ™ä½¿ç”¨ A è®°å½•ã€‚
# * v4-onlyï¼šä»…ä½¿ç”¨ A è®°å½•ï¼Œè‹¥æœªè·å¾—Aè®°å½•åˆ™å¤±è´¥ã€‚
# * v6-onlyï¼šä»…ä½¿ç”¨ AAAA è®°å½•ï¼Œè‹¥æœªè·å¾— AAAA è®°å½•åˆ™å¤±è´¥ã€‚
# å¯é…åˆ direct ç±»å‹ç­–ç•¥ä½¿ç”¨ï¼Œå¦‚ï¼šIPV6-ONLY = direct, ip-version=v6-only
# DIRECT = direct, ip-version=prefer-v4
# HYBRID = direct, hybrid=true, ip-version=dual
# æœ‰ 5 ç§ç­–ç•¥ç»„ç±»å‹: "select", "url-test", "fallback", "ssid" å’Œ "load-balance"
# select: å…·ä½“å“ªä¸ªå­ç­–ç•¥å°†è¢«ä½¿ç”¨ï¼Œç”±ç”¨æˆ·ç•Œé¢ä¸Šè¿›è¡Œé€‰æ‹©ã€‚
# url-test: å…·ä½“å“ªä¸ªå­ç­–ç•¥å°†è¢«ä½¿ç”¨ï¼Œé€šè¿‡æµ‹è¯•åˆ°å…·ä½“ URL çš„è®¿é—®é€Ÿåº¦é€‰æ‹©å»¶è¿Ÿæœ€ä½çš„ç­–ç•¥
# å‚æ•°:
# url: æµ‹è¯•æ—¶ç”¨åˆ°çš„ç›®æ ‡ URL.
# interval: å¯é€‰, ç§’ (é»˜è®¤å€¼: 600s)
# æŒ‡å®šåœ¨å¤šé•¿æ—¶é—´åï¼Œä¸Šæ¬¡çš„æµ‹è¯•ç»“æœå°†è¢«æŠ›å¼ƒã€‚
# tolerance: å¯é€‰, æ¯«ç§’ (é»˜è®¤å€¼: 100ms)
# åªæœ‰å½“æ–°çš„ä¼˜é€‰çº¿è·¯ï¼Œæ¯”åŸä¼˜é€‰çº¿è·¯çš„å“åº”æ—¶é—´ï¼Œå¤§äºè¯¥å€¼çš„æ—¶å€™ï¼Œæ‰ä¼šè§¦å‘çº¿è·¯å˜æ›´ã€‚
# timeout: å¯é€‰, ç§’ (é»˜è®¤å€¼: 5s)
# å¦‚æœæŸç­–ç•¥åœ¨è¯¥æ—¶é—´åä¾ç„¶æ²¡æœ‰å®Œæˆï¼Œæ”¾å¼ƒè¯¥ç­–ç•¥ã€‚
# fallback: ä¸ url-test ç»„åŸºæœ¬ä¸€è‡´ï¼ŒåŒºåˆ«æ˜¯åªå…³å¿ƒå­ç­–ç•¥æ˜¯å¦å¯ç”¨è€Œä¸å…³å¿ƒå…·ä½“å»¶è¿Ÿï¼Œç„¶å
# ä»å¯ç”¨ç­–ç•¥ä¸­é€‰æ‹©é å‰çš„ç­–ç•¥ã€‚å¯ä»¥é€šè¿‡è°ƒå° timeout å‚æ•°å°†ç¼“æ…¢çº¿è·¯ä¹Ÿæ ‡è®°ä¸ºä¸å¯ç”¨ã€‚
# è¯¥ç±»å‹æ²¡æœ‰ tolerance å‚æ•°ã€‚
# ssid: å…·ä½“å“ªä¸ªå­ç­–ç•¥å°†è¢«ä½¿ç”¨ï¼Œæ ¹æ® Wi-FI çš„ SSIDã€BSSIDã€è·¯ç”± IP åœ°å€å†³å®š
# å‚æ•°:
# default: å¿…å¡«
# é»˜è®¤ç­–ç•¥ã€‚
# cellular: å¯é€‰
# åœ¨æ•°æ®ç½‘ç»œä¸‹çš„ç­–ç•¥ã€‚ è‹¥ä¸å¡«ï¼Œé‚£ä¹ˆé»˜è®¤ç­–ç•¥å°†è¢«ä½¿ç”¨ã€‚
# load-balance: éšæœºä»å­ç­–ç•¥ä¸­é€‰å–ä¸€ä¸ªç­–ç•¥ä½¿ç”¨ã€‚å½“é…ç½®äº† url å‚æ•°æ—¶ï¼Œä¼š
# æŒ‰ç…§ fallback ç»„çš„è¡Œä¸ºè¿›è¡Œå¯ç”¨æ€§æ£€æŸ¥ï¼Œç„¶åä»…ä»å¯ç”¨çš„å­ç­–ç•¥ä¸­éšæœºé€‰å–ã€‚
# å‚æ•°:
# é™¤ urlã€timeoutã€intervalå¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªå‚æ•°ï¼š
# persistentï¼šå½“ persistent=true æ—¶ï¼Œå¯¹äºåŒä¸€ç›®æ ‡ä¸»æœºåï¼Œå°†å°½é‡ä½¿ç”¨åŒä¸€ä¸ªç­–ç•¥ã€‚
# é¿å…å› å‡ºå£ IP ä¸åŒè€Œè§¦å‘ç›®æ ‡ç½‘ç«™çš„é£é™©æ§åˆ¶ã€‚ä½†å½“å¯ç”¨æ€§æ”¹å˜æ—¶å¯èƒ½å¯¼è‡´ç­–ç•¥å˜åŒ–ã€‚

[Proxy Group]
# æœºåœºè®¢é˜…
Proxy = select, "ğŸ‡­ğŸ‡° Hong Kong", "ğŸ‡ºğŸ‡¸ United States", "ğŸ‡¯ğŸ‡µ Japan", "ğŸ‡¸ğŸ‡¬ Singapore", "ğŸ‡¬ğŸ‡§ United Kingdom", "ğŸ‡¹ğŸ‡¼ Taiwan", include-other-group=Main
AI = select, "ğŸ‡ºğŸ‡¸ United States",  "ğŸ‡¯ğŸ‡µ Japan", "ğŸ‡¸ğŸ‡¬ Singapore"
Telegram = select, "ğŸ‡¸ğŸ‡¬ Singapore", "ğŸ‡­ğŸ‡° Hong Kong"
PayPal = select, Proxy, "ğŸ‡ºğŸ‡¸ United States"
Crypto = select, Proxy, "ğŸ‡¯ğŸ‡µ Japan", DIRECT
Google = select, "ğŸ‡­ğŸ‡° Hong Kong", "ğŸ‡ºğŸ‡¸ United States"
Dropbox = select, "ğŸ‡­ğŸ‡° Hong Kong", "ğŸ‡ºğŸ‡¸ United States"
OneDrive = select, DIRECT, "ğŸ‡­ğŸ‡° Hong Kong", "ğŸ‡ºğŸ‡¸ United States"
Microsoft = select, DIRECT, "ğŸ‡­ğŸ‡° Hong Kong", "ğŸ‡ºğŸ‡¸ United States"
Netflix = select, "ğŸ‡¸ğŸ‡¬ Singapore", "ğŸ‡­ğŸ‡° Hong Kong", "ğŸ‡ºğŸ‡¸ United States"
Hulu = select, "ğŸ‡ºğŸ‡¸ United States"
Disney = select, "ğŸ‡ºğŸ‡¸ United States", "ğŸ‡¸ğŸ‡¬ Singapore", "ğŸ‡­ğŸ‡° Hong Kong"
YouTube = select, Proxy, "ğŸ‡­ğŸ‡° Hong Kong"
TikTok = select, "ğŸ‡ºğŸ‡¸ United States", "ğŸ‡¯ğŸ‡µ Japan"
Twitch = select, Proxy, DIRECT
BiliBili = select, DIRECT, "ğŸ‡­ğŸ‡° Hong Kong", "ğŸ‡¹ğŸ‡¼ Taiwan"
Spotify = select, "ğŸ‡­ğŸ‡° Hong Kong", DIRECT
Apple Music = select, Proxy, DIRECT
Discord = select, Proxy, DIRECT
Whatsapp = select, Proxy, DIRECT
å°çº¢ä¹¦ = select, DIRECT, "ğŸ‡¸ğŸ‡¬ Singapore", "ğŸ‡ºğŸ‡¸ United States"
Reddit = select, Proxy, DIRECT
Twitter = select, "ğŸ‡­ğŸ‡° Hong Kong"
Apple = select, DIRECT, "ğŸ‡­ğŸ‡° Hong Kong", "ğŸ‡ºğŸ‡¸ United States"
GitHub = select, Proxy, DIRECT
Scholar = select, Proxy, DIRECT
Steam = select, "ğŸ‡­ğŸ‡° Hong Kong", "ğŸ‡ºğŸ‡¸ United States"
Final = select, Proxy, DIRECT

ğŸ‡­ğŸ‡° Hong Kong = smart, include-other-group=Main, policy-regex-filter=^(?!.*(å®¶å®½))(?=.*(é¦™æ¸¯|ğŸ‡­ğŸ‡°|HK|Hong)).*$, policy-priority=Nex:0.9
ğŸ‡¯ğŸ‡µ Japan = smart, include-other-group=Main, policy-regex-filter=^(?!.*(å®¶å®½|æ˜Ÿé“¾|5G))(?=.*(æ—¥æœ¬|ğŸ‡¯ğŸ‡µ|JP|Japan)).*$, policy-priority=Nex:0.9
ğŸ‡¸ğŸ‡¬ Singapore = smart, include-other-group=Main, policy-regex-filter=^(?!.*(å®¶å®½))(?=.*(æ–°åŠ å¡|ğŸ‡¸ğŸ‡¬|SG|Singapore|ç‹®åŸ)).*$, policy-priority=Nex:0.9;MESL:0.9;Dler:0.9
ğŸ‡ºğŸ‡¸ United States = smart, include-other-group=Main, policy-regex-filter=^(?!.*(å®¶å®½|æ˜Ÿé“¾|èœ‚çª))(?=.*(ç¾å›½|ğŸ‡ºğŸ‡¸|US|USA)).*$, policy-priority=Los Angeles:0.7;Nex:0.9
ğŸ‡¬ğŸ‡§ United Kingdom = smart, include-other-group=Main, policy-regex-filter=^(?!.*(å®¶å®½|èœ‚çª))(?=.*(è‹±å›½|ğŸ‡¬ğŸ‡§|UK)).*$, policy-priority=London:0.7;Nex:0.9
ğŸ‡¹ğŸ‡¼ Taiwan = smart, include-other-group=Main, policy-regex-filter=^(?!.*(å®¶å®½|èœ‚çª))(?=.*(å°æ¹¾|ğŸ‡¨ğŸ‡³|ğŸ‡¹ğŸ‡¼|TW|CN|Taiwan)).*$, policy-priority=Nex:0.9
# ğŸ‡¹ğŸ‡· Turkey = select, include-other-group="Main", policy-regex-filter=^(?!.*(å®¶å®½))(?=.*(åœŸè€³å…¶|ğŸ‡¹ğŸ‡·|T[uÃ¼]rkey)).*$

# Nexitally = select, policy-path=xxxxxx, hidden=true, policy-regex-filter=^((?!Premium).)*$, external-policy-name-prefix=[Nex]
æœªçŸ¥æœºåœº = select, policy-path=xxxxxx, hidden=true, external-policy-name-prefix=[æœªçŸ¥æœºåœº]
FlowerCloud = select, policy-path=xxxxxxx, hidden=true, external-policy-name-prefix=[Flower]

Main = select, include-other-group="FlowerCloud, æœªçŸ¥æœºåœº", hidden=true
# Reserve = select, include-other-group="", hidden=true
# è¯¥æ®µå®šä¹‰è¯·æ±‚å¤„ç†è§„åˆ™
# ä¸€ä¸ªè§„åˆ™æœ‰ä¸‰ä¸ªåŸºç¡€éƒ¨åˆ†:
# ç±»å‹,            å€¼,               ç­–ç•¥
# æ¯”å¦‚:     DOMAIN-SUFFIX,  apple.com,        DIRECT
# IP-CIDR,         192.168.0.0/16,   ProxyA
# æœ‰ 3 ç§åŸºäºåŸŸåçš„è§„åˆ™: "DOMAIN", "DOMAIN-SUFFIX" å’Œ "DOMAIN-KEYWORD"
# å‚æ•°:
# force-remote-dns: å¯é€‰ (é»˜è®¤å€¼: false)
# å¦‚æœæŸè¯·æ±‚è¢«è¯¥è§„åˆ™åŒ¹é…, ä¸”ç­–ç•¥ä¸æ˜¯DIRECT. é‚£ä¹ˆ DNS æŸ¥è¯¢å°†æ°¸è¿œåœ¨è¿œç«¯ä»£ç†æœåŠ¡
# å™¨æ‰§è¡Œ, å³ä½¿è¯¥è¯·æ±‚ç”± Surge TUN å¤„ç†.
# æ›´å¤šä¿¡æ¯è¯·å‚è§æ‰‹å†Œ.
# æœ‰ 2 ç§åŸºäº IP çš„è§„åˆ™: "IP-CIDR" and "GEOIP".
# å¦‚æœæ˜¯ä¸€ä¸ªä½¿ç”¨åŸŸåè¿›è¡Œè®¿é—®çš„è¯·æ±‚ï¼Œé‚£ä¹ˆ Surge å°†è¿›è¡Œ DNS æŸ¥è¯¢ä»¥ç¡®è®¤æ˜¯å¦åº”è¯¥è¢«
# è¯¥è§„åˆ™åŒ¹é…. è‹¥ DNS æŸ¥è¯¢å¤±è´¥ï¼Œå°†æ”¾å¼ƒè§„åˆ™åŒ¹é…è¿‡ç¨‹å¹¶ç›´æ¥ç»™å‡ºé”™è¯¯ã€‚
# OPTIONS:
# no-resolve: å¯é€‰ (é»˜è®¤å€¼: false)
# å¦‚æœæ˜¯ä¸€ä¸ªä½¿ç”¨åŸŸåè¿›è¡Œè®¿é—®çš„è¯·æ±‚ï¼Œè·³è¿‡è¯¥æ¡è§„åˆ™ï¼Œä¸è§¦å‘ DNS æŸ¥è¯¢ã€‚

[Rule]
# --- CUSTOM RULES ---
DOMAIN,dns.google,REJECT
DOMAIN-SUFFIX,novaxns.cyou,DIRECT
DOMAIN-SUFFIX,apple-relay.apple.com,"ğŸ‡ºğŸ‡¸ United States"

DOMAIN-SUFFIX,okex.com,Crypto
DOMAIN-SUFFIX,oklink.com,Crypto
DOMAIN-SUFFIX,okx.com,Crypto
DOMAIN-SUFFIX,bybit.com,Crypto
DOMAIN-SUFFIX,bycsi.com,Crypto
DOMAIN-SUFFIX,bitverse.zone,Crypto
DOMAIN-KEYWORD,bitverse,Crypto
DOMAIN-KEYWORD,byabcde,Crypto
DOMAIN-KEYWORD,bybit,Crypto

DOMAIN-SUFFIX,fengkongcloud.com,å°çº¢ä¹¦
DOMAIN-SUFFIX,xhscdn.com,å°çº¢ä¹¦
DOMAIN-SUFFIX,xhscdn.net,å°çº¢ä¹¦
DOMAIN-SUFFIX,xiaohongshu.com,å°çº¢ä¹¦

IP-CIDR,192.51.100.100/32,REJECT
IP-CIDR,95.161.76.100/31,REJECT,pre-matching,no-resolve
# æ–°å¢å†…ç½®ç­–ç•¥ NO-HYBRIDï¼Œç­‰ä»·ä¸º NO-HYBRID = direct, hybrid=off
# DOMAIN-SUFFIX,cmbchina.com,NO-HYBRID // éƒ¨åˆ†æœåŠ¡ä¼šæ ¡éªŒè¯·æ±‚çš„æ¥æº IPï¼Œåœ¨å¼€å¯ hybrid æ—¶æœ‰å¯èƒ½å› ä¸ºè¯·æ±‚IPå˜åŒ–å¯¼è‡´æ— æ³•æ­£å¸¸ç™»å½•å’Œä½¿ç”¨ï¼ˆå¦‚æ‹›å•†é“¶è¡Œï¼‰ï¼Œå¯ä½¿ç”¨ NO-HYBRID å¯¹ç‰¹å®šè¯·æ±‚å•ç‹¬å…³é—­ All Hybrid
# HTTP3/QUIC åè®®åŸºäº UDPï¼Œéƒ¨åˆ†åœ°åŒº ISP æˆ–çº¿è·¯ UDP å®¹æ˜“å—åˆ°å¹²æ‰°æˆ–é™é€Ÿï¼Œå±è”½æ‰ä»¥é˜»æ­¢ HTTP 3 æµé‡çš„ UDP æµé‡ï¼Œå¼ºåˆ¶å›é€€åˆ° TCPã€‚
# REJECT-NO-DROP è¡¨ç¤ºä¸ä½¿ç”¨é»˜è®¤çš„è‡ªåŠ¨ä¸¢åŒ…é€»è¾‘ï¼Œè¿™æ · Surge æ¯æ¬¡éƒ½ä¼šè¿”å› ICMP Port Unreachableï¼Œåº”ç”¨ä¼šç«‹åˆ»å›é€€è€Œä¸æ˜¯ç­‰è¶…æ—¶ã€‚
# AND,((PROTOCOL,UDP), (DEST-PORT,443)),REJECT-NO-DROP
# Download (For MacOS)
# PROCESS-NAME,aria2c,DIRECT
# PROCESS-NAME,fdm,DIRECT
# PROCESS-NAME,Folx,DIRECT
# PROCESS-NAME,NetTransport,DIRECT
# PROCESS-NAME,Thunder,DIRECT
# PROCESS-NAME,Transmission,DIRECT
# PROCESS-NAME,uTorrent,DIRECT
# PROCESS-NAME,WebTorrent,DIRECT
# PROCESS-NAME,"WebTorrent Helper",DIRECT
# External Resources Update
AND,((DOMAIN,raw.githubusercontent.com), (DOMAIN-SUFFIX,github.io), (USER-AGENT,Surge/*)),Final,notification-text="â™»ï¸External Resources Update",notification-interval=3600
# Blocking UDP Packets by Youtube and ins
# AND,((DOMAIN-SUFFIX,googlevideo.com), (DOMAIN-SUFFIX,gvt1.com), (DOMAIN-SUFFIX,cdninstagram.com), (PROTOCOL,UDP)),REJECT
# --- RULE-SET ---
DOMAIN-SET,https://raw.githubusercontent.com/privacy-protection-tools/anti-AD/master/anti-ad-surge2.txt,REJECT,"update-interval=259200"
RULE-SET,https://raw.githubusercontent.com/NobyDa/Script/master/Surge/AdRule.list,REJECT,"update-interval=259200"
DOMAIN-SET,https://raw.githubusercontent.com/Loyalsoldier/surge-rules/release/reject.txt,REJECT
# DOMAIN-SET,https://ruleset.skk.moe/List/domainset/reject.conf,REJECT
# RULE-SET,https://ruleset.skk.moe/List/non_ip/reject.conf,REJECT,extended-matching
# DOMAIN-SET,https://raw.githubusercontent.com/Loyalsoldier/surge-rules/release/private.txt,DIRECT
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/OpenAI/OpenAI.list,AI,"update-interval=-1"
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Scholar/Scholar.list,Scholar,"update-interval=259200"
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Copilot/Copilot.list,AI,"update-interval=259200"
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Gemini/Gemini.list,AI,"update-interval=259200"
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/GitHub/GitHub.list,GitHub,"update-interval=259200"
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/OneDrive/OneDrive.list,OneDrive,"update-interval=259200"
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Dropbox/Dropbox.list,Dropbox,"update-interval=259200"
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/YouTube/YouTube.list,YouTube,"update-interval=259200"
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Netflix/Netflix.list,Netflix,"update-interval=259200"
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Hulu/Hulu.list,Hulu,"update-interval=259200"
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Disney/Disney.list,Disney,"update-interval=259200"
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/TikTok/TikTok.list,TikTok,"update-interval=259200"
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Twitch/Twitch.list,Twitch,"update-interval=259200"
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/BiliBili/BiliBili.list,BiliBili,"update-interval=604800"
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Mail/Mail.list,Proxy,"update-interval=259200"
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/PayPal/PayPal.list,PayPal,"update-interval=259200"
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Binance/Binance.list,Crypto,"update-interval=259200"
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Discord/Discord.list,Discord,"update-interval=259200"
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Google/Google.list,Google,"update-interval=259200"
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Microsoft/Microsoft.list,Microsoft,"update-interval=259200"
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Twitter/Twitter.list,Twitter,"update-interval=259200"
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Reddit/Reddit.list,Reddit,"update-interval=259200"
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Spotify/Spotify.list,Spotify,"update-interval=259200"
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/AppleMusic/AppleMusic.list,"Apple Music","update-interval=259200"
DOMAIN-SET,https://raw.githubusercontent.com/Loyalsoldier/surge-rules/release/icloud.txt,Apple
RULE-SET,SYSTEM,Apple
DOMAIN-SET,https://raw.githubusercontent.com/Loyalsoldier/surge-rules/release/apple.txt,Apple
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Telegram/Telegram.list,Telegram,"update-interval=259200"
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Whatsapp/Whatsapp.list,Whatsapp,"update-interval=259200"
# RULE-SET,LAN,DIRECT
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Game/GameDownloadCN/GameDownloadCN.list,DIRECT,"update-interval=259200"
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/SteamCN/SteamCN.list,DIRECT,"update-interval=259200"
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Steam/Steam.list,Steam,"update-interval=259200"
DOMAIN-SET,https://raw.githubusercontent.com/Loyalsoldier/surge-rules/release/proxy.txt,Proxy
DOMAIN-SET,https://raw.githubusercontent.com/Loyalsoldier/surge-rules/release/direct.txt,DIRECT
RULE-SET,https://raw.githubusercontent.com/Loyalsoldier/surge-rules/release/cncidr.txt,DIRECT
# Local Area Network & GeoIP China
# ä»¥ä¸‹è§„åˆ™å°†è§¦å‘æœ¬åœ° DNS è§£æ
OR,((RULE-SET,LAN), (GEOIP,CN)),DIRECT
FINAL,Final,dns-failed

[Host]
# --- CUSTOM HOSTS ---
# > IPv6
ip6-localhost = ::1 // IPv6 Localhost
ip6-loopback = ::1 // IPv6 Loopback
ip6-localnet = fe00::0 // IPv6 Link-Local
ip6-mcastprefix = ff00::0 // IPv6 Multicast
ip6-allnodes = ff02::1 // IPv6 All Nodes
ip6-allrouters = ff02::2 // IPv6 All Routers
ip6-allhosts = ff02::3 // IPv6 All Hosts
# > Encrypted DNS
dns.google = 8.8.8.8, 8.8.4.4, 2001:4860:4860::8888, 2001:4860:4860::8844 // https://dns.google/dns-query
dns64.dns.google = 2001:4860:4860::6464, 2001:4860:4860::64 // https://dns64.dns.google/dns-query
cloudflare-dns.com = 104.16.249.249, 104.16.248.249, 2606:4700::6810:f8f9, 2606:4700::6810:f9f9 // https://cloudflare-dns.com/dns-query
1dot1dot1dot1.cloudflare-dns.com = 1.1.1.1, 1.0.0.1, 2606:4700:4700::1001, 2606:4700:4700::1111 // 1dot1dot1dot1.cloudflare-dns.com:853
one.one.one.one = 1.1.1.1, 1.0.0.1, 2606:4700:4700::1001, 2606:4700:4700::1111 // one.one.one.one:853
dns.alidns.com = 223.5.5.5, 223.6.6.6, 2400:3200:baba::1, 2400:3200::1 // https://dns.alidns.com/dns-query
doh.pub = 1.12.12.12, 120.53.53.53 // https://doh.pub/dns-query
dot.pub = 1.12.12.12, 120.53.53.53 // dot.pub:853
doh.360.cn = 23.6.48.18, 112.65.69.15 // https://doh.360.cn/dns-query
dot.360.cn = 101.198.198.198, 101.198.199.200, 101.198.192.33, 112.65.69.15 // dot.360.cn:853
dns.twnic.tw = 101.101.101.101, 2001:de4::101, 2001:de4::102 // https://dns.twnic.tw/dns-query
ordns.he.net = 74.82.42.42, 2001:470:20::2 // https://ordns.he.net/dns-query
# > BiliBili
upos-sz-mirrorali.bilivideo.com = server:quic://dns.alidns.com // BiliBili uposè§†é¢‘æœåŠ¡å™¨ï¼ˆé˜¿é‡Œäº‘ï¼‰
upos-sz-mirrorali?.bilivideo.com = server:quic://dns.alidns.com // BiliBili uposè§†é¢‘æœåŠ¡å™¨ï¼ˆé˜¿é‡Œäº‘ï¼‰
upos-sz-mirrorali??.bilivideo.com = server:quic://dns.alidns.com // BiliBili uposè§†é¢‘æœåŠ¡å™¨ï¼ˆé˜¿é‡Œäº‘ï¼‰
upos-sz-mirrorbos.bilivideo.com = server:180.76.76.76 // BiliBili uposè§†é¢‘æœåŠ¡å™¨ï¼ˆç™¾åº¦äº‘ï¼‰
upos-sz-mirrorcos.bilivideo.com = server:https://doh.pub/dns-query // BiliBili uposè§†é¢‘æœåŠ¡å™¨ï¼ˆè…¾è®¯äº‘ï¼‰
upos-sz-mirrorcos?.bilivideo.com = server:https://doh.pub/dns-query // BiliBili uposè§†é¢‘æœåŠ¡å™¨ï¼ˆè…¾è®¯äº‘ï¼‰
upos-sz-mirrorcos??.bilivideo.com = server:https://doh.pub/dns-query // BiliBili uposè§†é¢‘æœåŠ¡å™¨ï¼ˆè…¾è®¯äº‘ï¼‰
upos-sz-upcdnbd??.bilivideo.com = server:180.76.76.76 // BiliBili uposè§†é¢‘æœåŠ¡å™¨ï¼ˆç™¾åº¦äº‘ï¼‰
upos-sz-upcdntx.bilivideo.com = server:https://doh.pub/dns-query // BiliBili uposè§†é¢‘æœåŠ¡å™¨ï¼ˆè…¾è®¯äº‘ï¼‰
# CUSTOM HOST
# è¯¥æ®µå®šä¹‰é’ˆå¯¹ HTTP è¯·æ±‚çš„ URL é‡å®šå‘è§„åˆ™
# æœ‰ä¸¤ç§é‡å®šå‘æ–¹å¼: "header" å’Œ "302"
# 
# Header æ¨¡å¼
# Surge ä¼šä¿®æ”¹å‘å‡ºçš„ http headerï¼Œå¿…è¦æ—¶è¿˜ä¼šä¿®æ”¹ Host å­—æ®µã€‚å®¢æˆ·ç«¯å°†
# æ„ŸçŸ¥ä¸åˆ°è¿™ä¸ªé‡å®šå‘è¿‡ç¨‹. ä¸æ”¯æŒé‡å®šå‘åˆ°ä¸€ä¸ª HTTPS çš„åœ°å€ã€‚
# 
# 302 æ¨¡å¼
# Surge ç›´æ¥ç®€å•çš„è¿”å›ä¸€ä¸ª 302 é‡å®šå‘å›åº”ã€‚

[Header Rewrite]
# http-request ^https?:\/\/.*\.zhihu\.com\/(question|topic) header-replace User-Agent "osee2unifiedRelease/4432 osee2unifiedReleaseVersion/7.8.0 Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mo    bile/15E148"
# è¯¥æ®µä»…åœ¨ iOS ç‰ˆæœ¬ä¸‹ç”Ÿæ•ˆã€‚
# ä½ å¯ä»¥ä¸ºæŸäº›ç‰¹å®šçš„ WiFi ç½‘ç»œè®¾ç½®è®¾ç½®å‚æ•°
# å‚æ•°:
# suspend: "true" æˆ– "false"
# åœ¨è¯¥ç½‘ç»œä¸‹ Surge å°†æš‚åœå·¥ä½œã€‚ è¯·æ³¨æ„ï¼Œå¦‚æœä½ åœ¨è¯¥ç½‘ç»œä¸‹ç›´æ¥å¯åŠ¨ Surgeï¼Œé‚£ä¹ˆ
# Surge ä¾ç„¶ä¼šå·¥ä½œã€‚åªæœ‰å½“ä»å…¶ä»–ç½‘ç»œåˆ‡æ¢åˆ°è¯¥ç½‘ç»œæ—¶ï¼ŒSurge æ‰ä¼šæš‚åœã€‚
# 
# SSID Setting æ®µè¡¨è¾¾å¼ï¼ˆé€‚ç”¨ SUBNET è§„åˆ™ï¼‰
# å¯ä½¿ç”¨ MCCMNC:100-200 åŒ¹é…ç‰¹å®šæ•°æ®ç½‘ç»œ
# å¯ä½¿ç”¨ SSID:value ç‰¹å®šåŒ¹é… SSIDï¼Œæ”¯æŒé€šé…ç¬¦
# å¯ä½¿ç”¨ BSSID:value ç‰¹å®šåŒ¹é… BSSIDï¼Œæ”¯æŒé€šé…ç¬¦
# å¯ä½¿ç”¨ ROUTER:value ç‰¹å®šåŒ¹é…è·¯ç”±åœ°å€
# å¯ä½¿ç”¨ TYPE:WIFI åŒ¹é…æ‰€æœ‰ WiFi ç½‘ç»œ
# å¯ä½¿ç”¨ TYPE:CELLULAR åŒ¹é…æ‰€æœ‰æ•°æ®ç½‘ç»œ
# å¯ä½¿ç”¨ TYPE:WIRED åŒ¹é…æ‰€æœ‰æœ‰çº¿ç½‘ç»œï¼ˆiOS ä¸Šæ”¯æŒ USB ç½‘ç»œé€‚é…
# å‚æ•° cellular-fallback å¯å•ç‹¬æ§åˆ¶ä¸€äº› Wi-Fi ä¸‹çš„ all-hybrid å’Œ wifi-assist è¡Œä¸º
# cellular-fallback=default ä½¿ç”¨ [General] ä¸­çš„ all-hybrid å’Œ wifi-assist é…ç½®
# cellular-fallback=off å…³é—­ all-hybrid å’Œ wifi-assist
# cellular-fallback=hybrid å¼€å¯ all-hybrid
# cellular-fallback=wifi-assist å¼€å¯ wifi-assist
# å¦‚æ— å‰ç¼€åˆ™æŒ‰ç…§æ—§ç‰ˆè§„åˆ™åŒ¹é… SSIDã€BSSIDã€è·¯ç”±åœ°å€
# SSID Setting æ®µå†…å®¹ä»ä¸Šè‡³ä¸‹ä¾æ¬¡åŒ¹é…ï¼ŒåŒ¹é…åˆ°ç¬¬ä¸€ä¸ªç»“æœåç«‹åˆ»ç»ˆæ­¢
# 
# ä¸­å›½ç”¨æˆ·è‹¥ä½¿ç”¨ TFO å»ºè®®å¼ºåˆ¶å…³é—­æ•°æ®ç½‘ç»œä¸Šçš„ TFOï¼Œé¿å…äº§ç”Ÿé—®é¢˜ï¼Œç„¶ååœ¨å·²æµ‹è¯•è¿‡çš„ç½‘ç»œä¸Šå¼ºåˆ¶å¼€å¯ã€‚åªæœ‰è¿™æ ·é…ç½®åæ–¹å¯å……åˆ†äº«å— TFO çš„ä¼˜åŠ¿ã€‚

[SSID Setting]
# TCP
TYPE:WIRED tfo-behaviour=force-enabled

[MITM]
# è·³è¿‡æœåŠ¡ç«¯è¯ä¹¦éªŒè¯
skip-server-cert-verify = true
# MITM over HTTP/2
// MITM over HTTP/2ï¼šä½¿ç”¨ HTTP/2 åè®®è¿›è¡Œ MITM è§£å¯†ï¼Œå¯åœ¨é«˜å¹¶å‘ä¸‹ä¼˜åŒ–æ€§èƒ½
h2 = true
# ä¸»æœºå
// Surge ä»…ä¼šè§£å¯†è¿™é‡ŒæŒ‡å®šçš„ä¸»æœºåçš„è¯·æ±‚ï¼Œios ç³»ç»Ÿå’ŒæŸäº›åº”ç”¨æœ‰ä¸¥æ ¼çš„å®‰å…¨ç­–ç•¥ï¼Œä»…ä¿¡ä»»æŸäº›ç‰¹å®šçš„è¯ä¹¦ï¼Œå¯¹è¿™äº›åŸŸåå¯åŠ¨è§£å¯†å¯èƒ½å¯¼è‡´é—®é¢˜ï¼Œå¦‚ *apple.com, *icloud.com.
# å¯ä½¿ç”¨é€šé…ç¬¦* å’Œï¼Ÿ
# å¯ä½¿ç”¨å‰ç¼€-å°†ç‰¹å®šä¸»æœºåæ’é™¤
# é»˜è®¤ä»…è§£å¯†å‘å¾€ 443 ç«¯å£çš„è¯·æ±‚
# å¯ä½¿ç”¨åç¼€ï¼šport è§£å¯†ç‰¹å®šç«¯å£
# å¯ä½¿ç”¨åç¼€ï¼š0è§£å¯†æ‰€æœ‰ç«¯å£
// hostname = www.google.cn, api.abema.io, *.zhihu.com, -CUSTOMMitM
